# 🚀 專案上線部署步驟

## ✅ 已完成的工作

1. ✅ Firebase Hosting 已配置（`firebase.json`）
2. ✅ Firebase 專案已連接（`.firebaserc`）
3. ✅ 構建配置已優化（`vite.config.js`）
4. ✅ 部署腳本已創建
5. ✅ 安全文件已添加到 `.gitignore`

## 📝 現在需要做的

### 步驟 1：獲取 Firebase 配置信息

1. 前往：https://console.firebase.google.com/project/tree-game-fc972/settings/general
2. 滾動到「你的應用程式」部分
3. 如果還沒有 Web 應用程式：
   - 點擊「新增應用程式」→「</>」圖標
   - 輸入應用程式暱稱（例如：tree-game-web）
   - 點擊「註冊應用程式」
4. 複製配置信息

### 步驟 2：創建 .env 文件

在專案根目錄創建 `.env` 文件：

```env
VITE_FIREBASE_API_KEY=你的-api-key
VITE_FIREBASE_AUTH_DOMAIN=tree-game-fc972.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=tree-game-fc972
VITE_FIREBASE_STORAGE_BUCKET=tree-game-fc972.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=你的-messaging-sender-id
VITE_FIREBASE_APP_ID=你的-app-id
```

**快速獲取配置指南**：
```bash
npm run get-config
```

### 步驟 3：檢查部署配置

```bash
npm run check-deploy
```

這個命令會檢查：
- ✅ .env 文件是否存在
- ✅ 所有必需的環境變量是否設置
- ✅ dist 目錄是否存在
- ✅ Firebase 配置文件是否正確

### 步驟 4：部署到 Firebase Hosting

#### 方法 A：一鍵部署（推薦）

```bash
npm run deploy
```

這個命令會：
1. 自動檢查配置
2. 構建專案
3. 部署到 Firebase Hosting

#### 方法 B：手動部署

```bash
# 1. 構建專案
npm run build

# 2. 部署
firebase deploy --only hosting
```

### 步驟 5：訪問你的網站

部署成功後，你的網站可以通過以下 URL 訪問：

- **主要網址**: https://tree-game-fc972.web.app
- **備用網址**: https://tree-game-fc972.firebaseapp.com

## 🔄 更新部署

當你需要更新網站時，只需運行：

```bash
npm run deploy
```

## ⚠️ 重要檢查清單

部署前請確認：

- [ ] `.env` 文件已創建並配置正確
- [ ] Firestore Security Rules 已設置（參考 `FIRESTORE_RULES.md`）
- [ ] 武器數據已導入 Firestore（如果還沒，運行 `npm run init-weapons`）
- [ ] 測試模式已禁用（生產環境不應使用測試模式）

## 📚 相關文檔

- `QUICK_DEPLOY.md` - 快速部署指南
- `DEPLOYMENT.md` - 詳細部署文檔和故障排除
- `FIRESTORE_RULES.md` - Firestore 安全規則設置
- `SETUP_COMPLETE.md` - 武器數據安全設置完成指南

## 🎉 完成！

部署成功後，你的遊戲就可以在線訪問了！

如有問題，請查看 `DEPLOYMENT.md` 中的故障排除部分。

